<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Kalendarz</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/account_links.css' %}">
    <link rel="stylesheet" href="{% static 'css/account_form.css' %}">
    <style>
        :root { --bg: #ffffff; --panel: #ffffff; --accent: #e8ebef; --text: #100f0f; --muted: #100f0f; --ok: #af3ddc; --danger:#ff6b6b; }
        * { box-sizing: border-box; }
        body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Noto Sans", Arial, "Apple Color Emoji", "Segoe UI Emoji"; background:var(--bg); color:var(--text); }
        a { color: inherit; text-decoration: none; }
        header { display:flex; gap:12px; align-items:center; justify-content:space-between; padding:16px 20px; background: var(--panel); position:sticky; top:0; z-index:10; }
        header h1 { font-size: 18px; margin:0; font-weight:600; }
        .nav { display:flex; gap:8px; align-items:center; }
        .btn { background: var(--accent); color: var(--text); border: none; padding: 8px 12px; border-radius: 8px; cursor: pointer; font-weight:600; }
        .btn.secondary { background-color: #eedfff; outline:1px solid var(--accent); }
        .btn.danger { background: var(--danger); }
        .container { max-width: 1200px; margin: 0 auto; padding: 16px; }
        .grid { display:grid; grid-template-columns: repeat(7, 1fr); gap: 8px; }
        .weekday { text-align:center; color: var(--muted); font-weight:600; padding:8px 0; }
        .day { border-radius: 10px; background: #d0c1ea; min-height: 120px; padding: 8px; display:flex; flex-direction:column; gap:6px; outline:1px solid #22345f; }
        .day.other { opacity: 0.5; }
        .day .top { display:flex; align-items:center; justify-content:space-between; }
        .day .num { font-weight:700; }
        .today { outline:4px solid var(--ok); }
        .chips { display:flex; flex-direction:column; gap:4px; margin-top:auto; }
        .chip { background: var(--panel); border-radius: 8px; padding:4px 6px; font-size:12px; color: var(--muted); overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
        .chip.rem { color: #072f54; }
        .chip.done { color: var(--ok); text-decoration: line-through; opacity: 0.8; }
        .lists { display:grid; grid-template-columns: 1fr; gap:16px; }
        @media (min-width: 900px) { .lists { grid-template-columns: 1fr 1fr; } }
        form { display:flex; flex-direction:column; gap:8px; background: white; padding:12px; border-radius:10px; outline:2px solid #22345f; }
        input, textarea, select { width:100%; padding:8px; border-radius:8px; border:1px solid #2b3f71; background: #eedfff; color:var(--text);  }
        .item { display:flex; align-items:flex-start; justify-content:space-between; gap:12px; padding:10px; background: #ece682; border-radius:8px; outline:1px solid #22345f;  }
        .row { display:flex; gap:8px; align-items:center; }
        .small { font-size:12px; color: var(--muted); }
    </style>
</head>
<body>
<header>
    <div class="nav">
        {% if url == 'month' %}
        <a class="btn secondary" href="{% url 'calendar_app:month' year=prev_month.year month=prev_month.month %}">◀ Poprzedni miesiąc </a>
        <a class="btn secondary" href="{% url 'calendar_app:month' year=next_month.year month=next_month.month %}">Następny miesiąc ▶</a>
        {% elif url == 'day' %}
        <a class="btn secondary" href="{% url 'calendar_app:day' year=prev_day.year month=prev_day.month day=prev_day.day %}">Poprzedni dzień</a>
        <a class="btn secondary" href="{% url 'calendar_app:day' year=next_day.year month=next_day.month day=next_day.day %}">Następny dzień</a>
        {% endif %}
    </div>
    <h1>{% block title %}{% endblock %}</h1>
    <div class="nav">
        <a class="btn" href="{% url 'calendar_app:month' year=today.year month=today.month %}">Dziś</a>
        <a class="btn secondary" href="/admin/">Admin</a>
    </div>
</header>
<div class="main-layout">
    <div class="container">
        {% block content %}{% endblock %}
    </div>
    <aside class="sidebar">
        {% include 'accounts_links.html' %}
    </aside>
</div>

</body>
</html>
